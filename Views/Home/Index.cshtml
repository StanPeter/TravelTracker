@{
    ViewData["Title"] = "Welcome";
    var mode = ViewData["mode"]?.ToString();
}

<div class="container mt-5">
    <h1>Welcome to TravelTracker</h1>

    <div class="mb-3">
        <a href="@Url.Action("Index", "Home", new { mode = "login" })" class="btn btn-outline-primary me-2">Login</a>
        <a href="@Url.Action("Index", "Home", new { mode = "register" })" class="btn btn-outline-success">Register</a>
    </div>

    <div>
        @if (TempData["Error"] != null)
        {
            <div class="alert alert-danger">@TempData["Error"]</div>
        }

        @if (mode == "register")
        {
            @await Html.PartialAsync("_RegisterPartial", Model as TravelTracker.Models.DTOs.RegisterDto ?? new TravelTracker.Models.DTOs.RegisterDto())
        }
        else
        {
            @await Html.PartialAsync("_LoginPartial", Model as TravelTracker.Models.DTOs.LoginDto ?? new TravelTracker.Models.DTOs.LoginDto())
        }
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
